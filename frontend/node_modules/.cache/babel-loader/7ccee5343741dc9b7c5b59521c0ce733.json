{"ast":null,"code":"import axios from \"axios\";\nimport { SIGN_IN_FAILURE, SIGN_IN_REQUEST, SIGN_IN_SUCCESS, SIGN_UP_FAILURE, SIGN_UP_REQUEST, SIGN_UP_SUCCESS, SIGN_OUT_FAILURE, SIGN_OUT_REQUEST, SIGN_OUT_SUCCESS, FETCH_MOVIES_SUCCESS, FETCH_MOVIES_FAILURE, FETCH_MOVIES_REQUEST, CREATE_MOVIES_SUCCESS, CREATE_MOVIES_FAILURE, CREATE_MOVIES_REQUEST, DELETE_MOVIES_SUCCESS, DELETE_MOVIES_FAILURE, DELETE_MOVIES_REQUEST, UPDATE_MOVIES_SUCCESS, UPDATE_MOVIES_FAILURE, UPDATE_MOVIES_REQUEST, FETCH_ONE_MOVIE_REQUEST, FETCH_ONE_MOVIE_SUCCESS, FETCH_ONE_MOVIE_FAILURE, EDIT_ON } from './action-types';\nimport { URL } from \"../components/URL\"; // Sign up action creators\n\nconst signUpRequest = () => {\n  return {\n    type: SIGN_UP_REQUEST\n  };\n};\n\nconst signUpSuccess = user => {\n  return {\n    type: SIGN_UP_SUCCESS,\n    payload: {\n      user\n    }\n  };\n};\n\nconst signUpFailure = error => {\n  return {\n    type: SIGN_UP_FAILURE,\n    payload: error\n  };\n};\n\nexport const signUp = (user, history) => {\n  return function (dispatch) {\n    dispatch(signUpRequest());\n    axios({\n      method: \"post\",\n      url: URL + '/signUp',\n      data: user\n    }).then(response => {\n      const {\n        data\n      } = response.data;\n      dispatch(signUpSuccess(data)); // history.push(\"/\")\n    }).catch(error => {\n      dispatch(signUpFailure(error));\n    });\n  };\n}; //Sign in action creators\n\nconst signInRequest = () => {\n  return {\n    type: SIGN_IN_REQUEST\n  };\n};\n\nconst signInSuccess = token => {\n  return {\n    type: SIGN_IN_SUCCESS,\n    payload: {\n      token\n    }\n  };\n};\n\nconst signInFailure = error => {\n  return {\n    type: SIGN_IN_FAILURE,\n    payload: error\n  };\n};\n\nexport const signIn = (payload, history) => {\n  return function (dispatch) {\n    dispatch(signInRequest);\n    axios({\n      method: \"POST\",\n      url: URL + \"/signIn\",\n      data: payload,\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n      }\n    }).then(response => {\n      const {\n        token\n      } = response.data;\n      localStorage.setItem(\"USER-TOKEN\", token);\n      dispatch(signInSuccess(token)); // history.push(\"/\");\n    }).catch(error => {\n      dispatch(signInFailure(error));\n    });\n  };\n}; // sign out action creators\n\nexport const signOutRequest = () => {\n  return {\n    type: SIGN_OUT_REQUEST\n  };\n};\nexport const signOutSuccess = () => {\n  return {\n    type: SIGN_OUT_SUCCESS\n  };\n};\nexport const signOutFailure = () => {\n  return {\n    type: SIGN_OUT_FAILURE\n  };\n};\nexport const signOut = history => {\n  return function (dispatch) {\n    dispatch(signOutRequest());\n    localStorage.clear();\n    history.push('/signin');\n\n    if (localStorage.getItem(\"USER-TOKEN\")) {\n      dispatch(signOutFailure());\n    } else {\n      dispatch(signOutSuccess());\n    }\n  };\n}; // fetch movies action creators\n\nconst fetchMoviesRequest = () => {\n  return {\n    type: FETCH_MOVIES_REQUEST,\n    payload: {\n      loading: true\n    }\n  };\n};\n\nconst fetchMoviesSuccess = movieData => {\n  return {\n    type: FETCH_MOVIES_SUCCESS,\n    payload: {\n      movieData\n    }\n  };\n};\n\nconst fetchMoviesFailure = error => {\n  return {\n    type: FETCH_MOVIES_FAILURE,\n    payload: error\n  };\n};\n\nexport const fetchMovie = payload => {\n  return async function (dispatch) {\n    dispatch(fetchMoviesRequest());\n\n    try {\n      const res = await axios({\n        method: \"get\",\n        url: URL + '/getallmovies',\n        data: payload\n      });\n      const result = res.data;\n      dispatch(fetchMoviesSuccess(result));\n    } catch (err) {\n      dispatch(fetchMoviesFailure(err));\n    }\n  };\n}; // fetch ONE movie action creators\n\nconst fetchOneMoviesRequest = () => {\n  return {\n    type: FETCH_ONE_MOVIE_REQUEST,\n    payload: {\n      loading: true\n    }\n  };\n};\n\nconst fetchOneMoviesSuccess = movieDataOne => {\n  return {\n    type: FETCH_ONE_MOVIE_SUCCESS,\n    payload: movieDataOne\n  };\n};\n\nconst fetchOneMoviesFailure = error => {\n  return {\n    type: FETCH_ONE_MOVIE_FAILURE,\n    payload: error\n  };\n};\n\nexport const fetchOneMovie = movieDataOne => {\n  console.log(\"Movie data\", movieDataOne);\n  return async function (dispatch) {\n    dispatch(fetchOneMoviesRequest());\n\n    try {\n      const res = await axios({\n        method: \"get\",\n        url: URL + '/getonemovie',\n        data: movieDataOne\n      });\n      const result = res;\n      dispatch(fetchOneMoviesSuccess(result));\n    } catch (err) {\n      dispatch(fetchOneMoviesFailure(err));\n    }\n  };\n}; // create Movie action\n\nconst createMovieRequest = () => {\n  return {\n    type: CREATE_MOVIES_REQUEST\n  };\n};\n\nconst createMovieSuccess = createMovieData => {\n  return {\n    type: CREATE_MOVIES_SUCCESS,\n    payload: {\n      createMovieData\n    }\n  };\n};\n\nconst createMovieFailure = error => {\n  console.log(\"Create Movie\");\n  return {\n    type: CREATE_MOVIES_FAILURE,\n    payload: error\n  };\n};\n\nexport const createMovie = createMovieData => {\n  return async function (dispatch) {\n    dispatch(createMovieRequest());\n\n    try {\n      const response = await axios({\n        method: \"post\",\n        url: URL + '/addmovie',\n        data: createMovieData,\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"Accept\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n        }\n      });\n      const data = response.data;\n      dispatch(fetchMovie());\n      dispatch(createMovieSuccess(data));\n    } catch (error) {\n      dispatch(createMovieFailure(error));\n    }\n  };\n}; // Update Movie action\n\nconst updateMovieRequest = () => {\n  return {\n    type: UPDATE_MOVIES_REQUEST\n  };\n};\n\nconst updateMovieSuccess = deleteMovieData => {\n  return {\n    type: UPDATE_MOVIES_SUCCESS,\n    payload: {\n      deleteMovieData\n    }\n  };\n};\n\nconst updateMovieFailure = error => {\n  return {\n    type: UPDATE_MOVIES_FAILURE,\n    payload: error\n  };\n};\n\nexport const updateMovie = updateMovieData => {\n  return async function (dispatch) {\n    dispatch(updateMovieRequest());\n\n    try {\n      const response = await axios({\n        method: \"PUT\",\n        url: URL + '/updatemovie',\n        data: updateMovieData,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n        }\n      });\n      const {\n        data\n      } = response;\n      dispatch(fetchMovie());\n      dispatch(updateMovieSuccess(data));\n    } catch (error) {\n      dispatch(updateMovieFailure(error));\n    }\n  };\n}; // Delete Movie action\n\nconst deleteMovieRequest = () => {\n  return {\n    type: DELETE_MOVIES_REQUEST\n  };\n};\n\nconst deleteMovieSuccess = deleteMovieData => {\n  return {\n    type: DELETE_MOVIES_SUCCESS,\n    payload: {\n      deleteMovieData\n    }\n  };\n};\n\nconst deleteMovieFailure = error => {\n  return {\n    type: DELETE_MOVIES_FAILURE,\n    payload: error\n  };\n};\n\nexport const deleteMovie = deleteMovieData => {\n  return async function (dispatch) {\n    dispatch(deleteMovieRequest());\n\n    try {\n      const response = await axios({\n        method: \"DELETE\",\n        url: URL + '/deletemovie',\n        data: deleteMovieData,\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n        }\n      });\n      const {\n        data\n      } = response;\n      dispatch(fetchMovie());\n      dispatch(deleteMovieSuccess(data));\n    } catch (error) {\n      dispatch(deleteMovieFailure(error));\n    }\n  };\n}; //Action Toggle Edit\n\nexport const toggleEdit = () => {\n  return {\n    type: EDIT_ON\n  };\n};","map":{"version":3,"sources":["/Users/chrishar/Documents/CODI/TF961-CODI]/Movie-DB/frontend/src/redux/action-creators.js"],"names":["axios","SIGN_IN_FAILURE","SIGN_IN_REQUEST","SIGN_IN_SUCCESS","SIGN_UP_FAILURE","SIGN_UP_REQUEST","SIGN_UP_SUCCESS","SIGN_OUT_FAILURE","SIGN_OUT_REQUEST","SIGN_OUT_SUCCESS","FETCH_MOVIES_SUCCESS","FETCH_MOVIES_FAILURE","FETCH_MOVIES_REQUEST","CREATE_MOVIES_SUCCESS","CREATE_MOVIES_FAILURE","CREATE_MOVIES_REQUEST","DELETE_MOVIES_SUCCESS","DELETE_MOVIES_FAILURE","DELETE_MOVIES_REQUEST","UPDATE_MOVIES_SUCCESS","UPDATE_MOVIES_FAILURE","UPDATE_MOVIES_REQUEST","FETCH_ONE_MOVIE_REQUEST","FETCH_ONE_MOVIE_SUCCESS","FETCH_ONE_MOVIE_FAILURE","EDIT_ON","URL","signUpRequest","type","signUpSuccess","user","payload","signUpFailure","error","signUp","history","dispatch","method","url","data","then","response","catch","signInRequest","signInSuccess","token","signInFailure","signIn","headers","Authorization","localStorage","getItem","setItem","signOutRequest","signOutSuccess","signOutFailure","signOut","clear","push","fetchMoviesRequest","loading","fetchMoviesSuccess","movieData","fetchMoviesFailure","fetchMovie","res","result","err","fetchOneMoviesRequest","fetchOneMoviesSuccess","movieDataOne","fetchOneMoviesFailure","fetchOneMovie","console","log","createMovieRequest","createMovieSuccess","createMovieData","createMovieFailure","createMovie","updateMovieRequest","updateMovieSuccess","deleteMovieData","updateMovieFailure","updateMovie","updateMovieData","deleteMovieRequest","deleteMovieSuccess","deleteMovieFailure","deleteMovie","toggleEdit"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n    SIGN_IN_FAILURE,\n    SIGN_IN_REQUEST,\n    SIGN_IN_SUCCESS,\n    SIGN_UP_FAILURE,\n    SIGN_UP_REQUEST,\n    SIGN_UP_SUCCESS,\n    SIGN_OUT_FAILURE,\n    SIGN_OUT_REQUEST,\n    SIGN_OUT_SUCCESS,\n\n    FETCH_MOVIES_SUCCESS,\n    FETCH_MOVIES_FAILURE,\n    FETCH_MOVIES_REQUEST,\n\n    CREATE_MOVIES_SUCCESS,\n    CREATE_MOVIES_FAILURE,\n    CREATE_MOVIES_REQUEST,\n\n    DELETE_MOVIES_SUCCESS,\n    DELETE_MOVIES_FAILURE,\n    DELETE_MOVIES_REQUEST,\n\n    UPDATE_MOVIES_SUCCESS,\n    UPDATE_MOVIES_FAILURE,\n    UPDATE_MOVIES_REQUEST,\n\n    FETCH_ONE_MOVIE_REQUEST,\n    FETCH_ONE_MOVIE_SUCCESS,\n    FETCH_ONE_MOVIE_FAILURE,\n\n    EDIT_ON\n\n\n} from './action-types';\n\nimport { URL } from \"../components/URL\";\n\n// Sign up action creators\n\nconst signUpRequest = () =>{\n    return{\n        type: SIGN_UP_REQUEST,\n    };\n};\n\nconst signUpSuccess = (user) =>{\n    return{\n        type: SIGN_UP_SUCCESS,\n        payload: {\n            user\n        }\n    };\n};\n\nconst signUpFailure = (error) =>{\n    return {\n        type: SIGN_UP_FAILURE,\n        payload:error\n    };\n};\n\nexport const signUp = (user,history) =>{\n    return function (dispatch) {\n        dispatch(signUpRequest());\n        axios({\n            method:\"post\",\n            url: URL+'/signUp',\n            data: user,\n        })\n        .then((response)=>{\n            const {data} = response.data;\n            dispatch(signUpSuccess(data));\n            // history.push(\"/\")\n        })\n        .catch((error)=>{\n           \n            dispatch(signUpFailure(error));\n        });\n    };\n};\n\n//Sign in action creators\n\nconst signInRequest = () =>{\n    return {\n        type: SIGN_IN_REQUEST\n    };\n};\n\nconst signInSuccess = (token) =>{\n    return {\n        type: SIGN_IN_SUCCESS,\n        payload:{\n            token\n        }\n    };\n};\n\nconst signInFailure = (error) =>{\n    return {\n        type: SIGN_IN_FAILURE,\n        payload: error,\n    };\n};\n\nexport const signIn = (payload,history) =>{\n    return function (dispatch) {\n        dispatch(signInRequest);\n        axios({\n            method:\"POST\",\n            url: URL+\"/signIn\",\n            data:payload,\n            headers:{\n                \"Content-type\":\"application/json\",\n                \"Accept\":\"application/json\",\n                Authorization:`Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n            }\n        })\n        .then((response)=>{\n            const {token} = response.data;\n            localStorage.setItem(\"USER-TOKEN\",token);\n            dispatch(signInSuccess(token));\n            // history.push(\"/\");\n        })\n        .catch((error)=>{\n            dispatch(signInFailure(error));\n        });\n    };\n};\n\n// sign out action creators\n\nexport const signOutRequest = () =>{\n    return {\n        type: SIGN_OUT_REQUEST,\n    };\n};\n\nexport const signOutSuccess = () =>{\n    return {\n      type: SIGN_OUT_SUCCESS,\n    };\n  };\n\nexport const signOutFailure = () =>{\n    return {\n        type: SIGN_OUT_FAILURE\n    };\n};\n\nexport const signOut = (history) =>{\n    return function(dispatch){\n        dispatch(signOutRequest());\n        localStorage.clear();\n        history.push('/signin');\n        if(localStorage.getItem(\"USER-TOKEN\")){\n            dispatch(signOutFailure());\n        }\n        else{\n            dispatch(signOutSuccess());\n        }\n    };\n}\n\n\n// fetch movies action creators\n\nconst fetchMoviesRequest = () =>{\n    return{\n        type: FETCH_MOVIES_REQUEST,\n        payload: {\n            loading: true\n          }\n    };\n};\n\nconst fetchMoviesSuccess = (movieData) =>{\n    \n    return{\n        type: FETCH_MOVIES_SUCCESS,\n        payload: {\n            movieData\n        }\n    };\n};\n\nconst fetchMoviesFailure = (error) =>{\n    return {\n        type: FETCH_MOVIES_FAILURE,\n        payload:error\n    };\n};\n\nexport const fetchMovie = (payload) =>{\n    \n    return async function (dispatch) {\n        dispatch(fetchMoviesRequest());\n        try{\n            const res = await axios({\n                    method:\"get\",\n                    url: URL+'/getallmovies',\n                    data: payload,\n                });\n                const result = res.data;\n              \n                dispatch(fetchMoviesSuccess(result));\n        }catch(err){\n           \n                dispatch(fetchMoviesFailure(err));\n        }\n    };\n};\n\n// fetch ONE movie action creators\n\nconst fetchOneMoviesRequest = () =>{\n    return{\n        type: FETCH_ONE_MOVIE_REQUEST,\n        payload: {\n            loading: true\n          }\n    };\n};\n\nconst fetchOneMoviesSuccess = (movieDataOne) =>{\n    \n    return{\n        type: FETCH_ONE_MOVIE_SUCCESS,\n        payload: \n            movieDataOne\n        \n    };\n};\n\nconst fetchOneMoviesFailure = (error) =>{\n    return {\n        type: FETCH_ONE_MOVIE_FAILURE,\n        payload:error\n    };\n};\n\nexport const fetchOneMovie = (movieDataOne) =>{\n    console.log(\"Movie data\",movieDataOne)\n    return async function (dispatch) {\n        dispatch(fetchOneMoviesRequest());\n        try{\n            const res = await axios({\n                    method:\"get\",\n                    url: URL+'/getonemovie',\n                    data: movieDataOne,\n                });\n                const result = res;\n              \n                dispatch(fetchOneMoviesSuccess(result));\n        }catch(err){\n           \n                dispatch(fetchOneMoviesFailure(err));\n        }\n    };\n};\n\n// create Movie action\n\nconst createMovieRequest = () =>{\n    return{\n        type: CREATE_MOVIES_REQUEST,\n    };\n};\n\nconst createMovieSuccess = (createMovieData) =>{\n    return{\n        type: CREATE_MOVIES_SUCCESS,\n        payload: {\n            createMovieData\n        }\n    };\n};\n\nconst createMovieFailure = (error) =>{\n    console.log(\"Create Movie\");\n    return {\n        type: CREATE_MOVIES_FAILURE,\n        payload:error\n    };\n};\n\nexport const createMovie =  (createMovieData) =>{\n    return async function (dispatch) {\n  \n        dispatch(createMovieRequest());\n    try{\n       const response = await axios({\n            method:\"post\",\n            url: URL+'/addmovie',\n            data: createMovieData,\n            headers:{\n                \"Content-type\":\"application/json\",\n                \"Accept\":\"application/json\",\n                Authorization:`Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n            }\n        });\n       \n            const data = response.data;\n           \n            dispatch(fetchMovie()); \n            \n            dispatch(createMovieSuccess(data));\n    }catch(error){\n       \n        dispatch(createMovieFailure(error));\n    }\n     \n    };\n};\n\n\n// Update Movie action\n\nconst updateMovieRequest = () =>{\n    return{\n        type: UPDATE_MOVIES_REQUEST,\n    };\n};\n\nconst updateMovieSuccess = (deleteMovieData) =>{\n    return{\n        type: UPDATE_MOVIES_SUCCESS,\n        payload: {\n            deleteMovieData\n        }\n    };\n};\n\nconst updateMovieFailure = (error) =>{\n    return {\n        type: UPDATE_MOVIES_FAILURE,\n        payload:error\n    };\n};\n\nexport const updateMovie =  (updateMovieData) =>{\n    return async function (dispatch) {\n        dispatch(updateMovieRequest());\n    try{\n       const response = await axios({\n            method:\"PUT\",\n            url: URL+'/updatemovie',\n            data: updateMovieData,\n            headers:{\n                Authorization:`Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n            }\n        });\n        \n            const {data} = response;\n            dispatch(fetchMovie()); \n            \n            dispatch(updateMovieSuccess(data));\n    }catch(error){\n       \n        dispatch(updateMovieFailure(error));\n    }\n     \n    };\n};\n\n// Delete Movie action\n\nconst deleteMovieRequest = () =>{\n    return{\n        type: DELETE_MOVIES_REQUEST,\n    };\n};\n\nconst deleteMovieSuccess = (deleteMovieData) =>{\n    return{\n        type: DELETE_MOVIES_SUCCESS,\n        payload: {\n            deleteMovieData\n        }\n    };\n};\n\nconst deleteMovieFailure = (error) =>{\n    return {\n        type: DELETE_MOVIES_FAILURE,\n        payload:error\n    };\n};\n\nexport const deleteMovie =  (deleteMovieData) =>{\n    return async function (dispatch) {\n        dispatch(deleteMovieRequest());\n    try{\n       const response = await axios({\n            method:\"DELETE\",\n            url: URL+'/deletemovie',\n            data: deleteMovieData,\n            headers:{\n                Authorization:`Bearer ${localStorage.getItem(\"USER-TOKEN\")}`\n            }\n        });\n        \n            const {data} = response;\n            dispatch(fetchMovie()); \n            \n            dispatch(deleteMovieSuccess(data));\n    }catch(error){\n       \n        dispatch(deleteMovieFailure(error));\n    }\n     \n    };\n};\n\n//Action Toggle Edit\n\n\nexport const toggleEdit = ()=>{\n    \n    return {\n        \n        type: EDIT_ON\n    };\n};\n\n\n"]},"metadata":{},"sourceType":"module"}